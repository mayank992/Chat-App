{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nexport function usePolling(cb, deps, ms) {\n  _s();\n\n  useEffect(() => {\n    let timerId;\n\n    (async function poll() {\n      await cb();\n      timerId = window.setTimeout(poll, ms);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, []);\n}\n\n_s(usePolling, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"sources":["/Users/mayank/Desktop/assignments/chat-app/src/hooks/usePolling.ts"],"names":["useEffect","usePolling","cb","deps","ms","timerId","poll","window","setTimeout","clearTimeout"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,OAAO,SAASC,UAAT,CAAoBC,EAApB,EAA6CC,IAA7C,EAA0DC,EAA1D,EAAsE;AAAA;;AAC3EJ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,OAAJ;;AAEA,KAAC,eAAeC,IAAf,GAAsB;AACrB,YAAMJ,EAAE,EAAR;AAEAG,MAAAA,OAAO,GAAGE,MAAM,CAACC,UAAP,CAAkBF,IAAlB,EAAwBF,EAAxB,CAAV;AACD,KAJD;;AAMA,WAAO,MAAM;AACXK,MAAAA,YAAY,CAACJ,OAAD,CAAZ;AACD,KAFD;AAGD,GAZQ,EAYN,EAZM,CAAT;AAaD;;GAdeJ,U","sourcesContent":["import { useEffect } from \"react\";\n\nexport function usePolling(cb: () => Promise<void>, deps: any[], ms: number) {\n  useEffect(() => {\n    let timerId: number;\n\n    (async function poll() {\n      await cb();\n\n      timerId = window.setTimeout(poll, ms);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, []);\n}\n"]},"metadata":{},"sourceType":"module"}