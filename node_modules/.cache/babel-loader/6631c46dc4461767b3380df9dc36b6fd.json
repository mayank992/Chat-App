{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\n\nfunction usePolling(cb, deps) {\n  _s();\n\n  useEffect(() => {\n    let timerId;\n\n    (async function pollMessages() {\n      const messages = await getMessages(user.id, chatType, id);\n      setMessages(messages);\n      timerId = window.setTimeout(pollMessages, 5000);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [chatType, id, name]);\n}\n\n_s(usePolling, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"sources":["/Users/mayank/Desktop/assignments/chat-app/src/hooks/usePolling.ts"],"names":["useEffect","usePolling","cb","deps","timerId","pollMessages","messages","getMessages","user","id","chatType","setMessages","window","setTimeout","clearTimeout","name"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;;AAEA,SAASC,UAAT,CAAoBC,EAApB,EAAoCC,IAApC,EAAiD;AAAA;;AAC/CH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,OAAJ;;AAEA,KAAC,eAAeC,YAAf,GAA8B;AAC7B,YAAMC,QAAQ,GAAG,MAAMC,WAAW,CAACC,IAAI,CAACC,EAAN,EAAUC,QAAV,EAAoBD,EAApB,CAAlC;AAEAE,MAAAA,WAAW,CAACL,QAAD,CAAX;AAEAF,MAAAA,OAAO,GAAGQ,MAAM,CAACC,UAAP,CAAkBR,YAAlB,EAAgC,IAAhC,CAAV;AACD,KAND;;AAQA,WAAO,MAAM;AACXS,MAAAA,YAAY,CAACV,OAAD,CAAZ;AACD,KAFD;AAGD,GAdQ,EAcN,CAACM,QAAD,EAAWD,EAAX,EAAeM,IAAf,CAdM,CAAT;AAeD;;GAhBQd,U","sourcesContent":["import { useEffect } from \"react\";\n\nfunction usePolling(cb: () => void, deps: any[]) {\n  useEffect(() => {\n    let timerId: number;\n\n    (async function pollMessages() {\n      const messages = await getMessages(user.id, chatType, id);\n\n      setMessages(messages);\n\n      timerId = window.setTimeout(pollMessages, 5000);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [chatType, id, name]);\n}\n"]},"metadata":{},"sourceType":"module"}