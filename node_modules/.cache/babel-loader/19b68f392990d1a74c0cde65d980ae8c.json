{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nexport function usePolling(cb, deps) {\n  _s();\n\n  useEffect(() => {\n    let timerId;\n\n    (async function poll() {\n      await cb();\n      timerId = window.setTimeout(poll, 5000);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, []);\n}\n\n_s(usePolling, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"sources":["/Users/mayank/Desktop/assignments/chat-app/src/hooks/usePolling.ts"],"names":["useEffect","usePolling","cb","deps","timerId","poll","window","setTimeout","clearTimeout"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,OAAO,SAASC,UAAT,CAAoBC,EAApB,EAA6CC,IAA7C,EAA0D;AAAA;;AAC/DH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,OAAJ;;AAEA,KAAC,eAAeC,IAAf,GAAsB;AACrB,YAAMH,EAAE,EAAR;AACAE,MAAAA,OAAO,GAAGE,MAAM,CAACC,UAAP,CAAkBF,IAAlB,EAAwB,IAAxB,CAAV;AACD,KAHD;;AAKA,WAAO,MAAM;AACXG,MAAAA,YAAY,CAACJ,OAAD,CAAZ;AACD,KAFD;AAGD,GAXQ,EAWN,EAXM,CAAT;AAYD;;GAbeH,U","sourcesContent":["import { useEffect } from \"react\";\n\nexport function usePolling(cb: () => Promise<void>, deps: any[]) {\n  useEffect(() => {\n    let timerId: number;\n\n    (async function poll() {\n      await cb();\n      timerId = window.setTimeout(poll, 5000);\n    })();\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, []);\n}\n"]},"metadata":{},"sourceType":"module"}