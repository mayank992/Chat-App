{"ast":null,"code":"var _jsxFileName = \"/Users/mayank/Desktop/assignments/Chat-App/src/pages/main/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useMemo } from \"react\";\nimport { ChatArea } from \"../../components/chatArea/index\";\nimport { Sidebar } from \"../../components/sidebar/index\";\nimport { CHAT_TYPE } from \"../../constants/index\";\nimport { SplitPane } from \"../../components/library/SplitPane\";\nimport { useGetUserDetails } from \"../../hooks/useGetUserDetails\";\nimport \"./Main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n\n  const {\n    userData\n  } = useGetUserDetails();\n  const [selectedChat, setSelectedChat] = useState({\n    type: CHAT_TYPE.DM,\n    id: null\n  }); // use usememo here\n\n  const selectedItem = useMemo(() => {\n    return selectedChat.type === CHAT_TYPE.DM ? userData === null || userData === void 0 ? void 0 : userData.connections.find(connection => connection.id === selectedChat.id) : userData === null || userData === void 0 ? void 0 : userData.channels.find(channel => channel.id === selectedChat.id);\n  }, [selectedChat]);\n  const changeSelected = useCallback(toSelect => {\n    setSelectedChat(toSelect);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main__body\",\n      children: /*#__PURE__*/_jsxDEV(SplitPane, {\n        minWidth: \"300px\",\n        leftPane: userData && /*#__PURE__*/_jsxDEV(Sidebar, {\n          users: userData.connections,\n          channels: userData.channels,\n          selected: selectedChat,\n          changeSelected: changeSelected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this),\n        rightPane: selectedItem && /*#__PURE__*/_jsxDEV(ChatArea, {\n          chatType: selectedChat.type,\n          id: selectedItem.id,\n          name: selectedItem.name\n        }, selectedChat.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Main, \"2PrOepKu4V0WdXDZ+IQ0ZmTJCfI=\", false, function () {\n  return [useGetUserDetails];\n});\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/mayank/Desktop/assignments/Chat-App/src/pages/main/index.tsx"],"names":["useState","useCallback","useMemo","ChatArea","Sidebar","CHAT_TYPE","SplitPane","useGetUserDetails","Main","userData","selectedChat","setSelectedChat","type","DM","id","selectedItem","connections","find","connection","channels","channel","changeSelected","toSelect","name"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,OAAhC,QAA+C,OAA/C;AACA,SAASC,QAAT,QAAyB,iCAAzB;AACA,SAASC,OAAT,QAAwB,gCAAxB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,SAAT,QAA0B,oCAA1B;AACA,SAASC,iBAAT,QAAkC,+BAAlC;AACA,OAAO,YAAP;;AAOA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAeF,iBAAiB,EAAtC;AACA,QAAM,CAACG,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAW;AACzDY,IAAAA,IAAI,EAAEP,SAAS,CAACQ,EADyC;AAEzDC,IAAAA,EAAE,EAAE;AAFqD,GAAX,CAAhD,CAF6B,CAO7B;;AACA,QAAMC,YAAY,GAAGb,OAAO,CAAC,MAAM;AACjC,WAAOQ,YAAY,CAACE,IAAb,KAAsBP,SAAS,CAACQ,EAAhC,GACHJ,QADG,aACHA,QADG,uBACHA,QAAQ,CAAEO,WAAV,CAAsBC,IAAtB,CACGC,UAAD,IAAqBA,UAAU,CAACJ,EAAX,KAAkBJ,YAAY,CAACI,EADtD,CADG,GAIHL,QAJG,aAIHA,QAJG,uBAIHA,QAAQ,CAAEU,QAAV,CAAmBF,IAAnB,CACGG,OAAD,IAAkBA,OAAO,CAACN,EAAR,KAAeJ,YAAY,CAACI,EADhD,CAJJ;AAOD,GAR2B,EAQzB,CAACJ,YAAD,CARyB,CAA5B;AAUA,QAAMW,cAAc,GAAGpB,WAAW,CAAEqB,QAAD,IAAwB;AACzDX,IAAAA,eAAe,CAACW,QAAD,CAAf;AACD,GAFiC,EAE/B,EAF+B,CAAlC;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACE,QAAC,SAAD;AACE,QAAA,QAAQ,EAAC,OADX;AAEE,QAAA,QAAQ,EACNb,QAAQ,iBACN,QAAC,OAAD;AACE,UAAA,KAAK,EAAEA,QAAQ,CAACO,WADlB;AAEE,UAAA,QAAQ,EAAEP,QAAQ,CAACU,QAFrB;AAGE,UAAA,QAAQ,EAAET,YAHZ;AAIE,UAAA,cAAc,EAAEW;AAJlB;AAAA;AAAA;AAAA;AAAA,gBAJN;AAYE,QAAA,SAAS,EACPN,YAAY,iBACV,QAAC,QAAD;AAEE,UAAA,QAAQ,EAAEL,YAAY,CAACE,IAFzB;AAGE,UAAA,EAAE,EAAEG,YAAY,CAACD,EAHnB;AAIE,UAAA,IAAI,EAAEC,YAAY,CAACQ;AAJrB,WACOb,YAAY,CAACI,EADpB;AAAA;AAAA;AAAA;AAAA;AAdN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA6BD;;GAnDuBN,I;UACDD,iB;;;KADCC,I","sourcesContent":["import { useState, useCallback, useMemo } from \"react\";\nimport { ChatArea } from \"../../components/chatArea/index\";\nimport { Sidebar } from \"../../components/sidebar/index\";\nimport { CHAT_TYPE } from \"../../constants/index\";\nimport { SplitPane } from \"../../components/library/SplitPane\";\nimport { useGetUserDetails } from \"../../hooks/useGetUserDetails\";\nimport \"./Main.css\";\n\ntype Selected = {\n  type: CHAT_TYPE;\n  id: string | null;\n};\n\nexport default function Main() {\n  const { userData } = useGetUserDetails();\n  const [selectedChat, setSelectedChat] = useState<Selected>({\n    type: CHAT_TYPE.DM,\n    id: null,\n  });\n\n  // use usememo here\n  const selectedItem = useMemo(() => {\n    return selectedChat.type === CHAT_TYPE.DM\n      ? userData?.connections.find(\n          (connection: any) => connection.id === selectedChat.id\n        )\n      : userData?.channels.find(\n          (channel: any) => channel.id === selectedChat.id\n        );\n  }, [selectedChat]);\n\n  const changeSelected = useCallback((toSelect: Selected) => {\n    setSelectedChat(toSelect);\n  }, []);\n\n  return (\n    <div className=\"main\">\n      <div className=\"main__body\">\n        <SplitPane\n          minWidth=\"300px\"\n          leftPane={\n            userData && (\n              <Sidebar\n                users={userData.connections}\n                channels={userData.channels}\n                selected={selectedChat}\n                changeSelected={changeSelected}\n              />\n            )\n          }\n          rightPane={\n            selectedItem && (\n              <ChatArea\n                key={selectedChat.id}\n                chatType={selectedChat.type}\n                id={selectedItem.id}\n                name={selectedItem.name}\n              />\n            )\n          }\n        />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}