{"ast":null,"code":"import axios from \"axios\";\nimport { client } from \"../utils/apiClient\";\nimport { CHAT_TYPE } from \"../constants/index\";\nimport { HttpMethods } from \"../types/requestTypes\";\nexport function getUserDetails(userId, options) {\n  return client(\"/users/alldetails\", {\n    headers: {\n      userid: userId\n    },\n    ...options\n  });\n}\nexport async function getLatestMessages(userId, type, id, options) {\n  const url = type === CHAT_TYPE.DM ? `/connections/${id}/messages?limit=15` : `/channels/${id}/messages?limit=15`;\n  return client(url, {\n    headers: {\n      userid: userId\n    },\n    ...options\n  });\n}\nexport async function getMessages(userId, type, id, pageNumber, options) {\n  const url = type === CHAT_TYPE.DM ? `/dms/${id}/messages?page=${pageNumber}&limit=15` : `/channels/${id}/messages?page=${pageNumber}&limit=15`;\n  return client(url, {\n    headers: {\n      userid: userId\n    },\n    ...options\n  });\n}\nexport async function getChannelMembers(channelId, options) {\n  const res = await axios.get(`/channels/${channelId}/members`, { ...options\n  });\n  return res.data;\n}\nexport async function addUserToChannel(channelId, userId) {\n  await axios.post(`/channels/${channelId}/members`, {\n    userId\n  });\n}\nexport async function sendMessage(message) {\n  let url = message.type === CHAT_TYPE.DM ? `/users/${message.toId}/messages` : `/channels/${message.toId}/messages`;\n  const res = await axios.post(url, {\n    from: message.fromId,\n    to: message.toId,\n    message: message.text\n  }, {\n    headers: {\n      userid: message.fromId\n    }\n  });\n  return;\n}\nexport function login(_ref) {\n  let {\n    username,\n    firstname,\n    lastname\n  } = _ref;\n  return client(\"/users/login\", {\n    method: HttpMethods.POST,\n    data: {\n      username,\n      fullname: `${firstname} ${lastname}`\n    }\n  });\n}\nexport function createChannel(userId, channelName) {\n  return client(\"/channels\", {\n    data: {\n      channelName\n    },\n    method: HttpMethods.POST,\n    headers: {\n      userid: userId\n    }\n  });\n}\nexport async function addUser(userId, username) {\n  return client(\"/dms\", {\n    data: {\n      username\n    },\n    method: HttpMethods.POST,\n    headers: {\n      userid: userId\n    }\n  });\n}","map":{"version":3,"sources":["/Users/mayank/Desktop/assignments/Chat-App/src/helpers/index.ts"],"names":["axios","client","CHAT_TYPE","HttpMethods","getUserDetails","userId","options","headers","userid","getLatestMessages","type","id","url","DM","getMessages","pageNumber","getChannelMembers","channelId","res","get","data","addUserToChannel","post","sendMessage","message","toId","from","fromId","to","text","login","username","firstname","lastname","method","POST","fullname","createChannel","channelName","addUser"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { client } from \"../utils/apiClient\";\nimport { CHAT_TYPE } from \"../constants/index\";\nimport { HttpMethods } from \"../types/requestTypes\";\n\nexport function getUserDetails(userId: string, options: any) {\n  return client(\"/users/alldetails\", {\n    headers: { userid: userId },\n    ...options,\n  });\n}\n\nexport async function getLatestMessages(\n  userId: string,\n  type: CHAT_TYPE,\n  id: string,\n  options: any\n) {\n  const url =\n    type === CHAT_TYPE.DM\n      ? `/connections/${id}/messages?limit=15`\n      : `/channels/${id}/messages?limit=15`;\n\n  return client(url, {\n    headers: { userid: userId },\n    ...options,\n  });\n}\n\nexport async function getMessages(\n  userId: string,\n  type: CHAT_TYPE,\n  id: string,\n  pageNumber: number,\n  options: { [property: string]: any }\n) {\n  const url =\n    type === CHAT_TYPE.DM\n      ? `/dms/${id}/messages?page=${pageNumber}&limit=15`\n      : `/channels/${id}/messages?page=${pageNumber}&limit=15`;\n\n  return client(url, {\n    headers: { userid: userId },\n    ...options,\n  });\n}\n\nexport async function getChannelMembers(\n  channelId: string,\n  options: { [property: string]: any }\n) {\n  const res = await axios.get(`/channels/${channelId}/members`, { ...options });\n\n  return res.data;\n}\n\nexport async function addUserToChannel(channelId: string, userId: string) {\n  await axios.post(`/channels/${channelId}/members`, { userId });\n}\n\nexport async function sendMessage(message: {\n  type: CHAT_TYPE;\n  from: string;\n  fromId: string;\n  to: string;\n  toId: string;\n  text: string;\n}) {\n  let url =\n    message.type === CHAT_TYPE.DM\n      ? `/users/${message.toId}/messages`\n      : `/channels/${message.toId}/messages`;\n\n  const res = await axios.post(\n    url,\n    {\n      from: message.fromId,\n      to: message.toId,\n      message: message.text,\n    },\n    { headers: { userid: message.fromId } }\n  );\n\n  return;\n}\n\nexport function login({\n  username,\n  firstname,\n  lastname,\n}: {\n  username: string;\n  firstname: string;\n  lastname: string;\n}) {\n  return client(\"/users/login\", {\n    method: HttpMethods.POST,\n    data: {\n      username,\n      fullname: `${firstname} ${lastname}`,\n    },\n  });\n}\n\nexport function createChannel(userId: string, channelName: string) {\n  return client(\"/channels\", {\n    data: {\n      channelName,\n    },\n    method: HttpMethods.POST,\n    headers: {\n      userid: userId,\n    },\n  });\n}\n\nexport async function addUser(userId: string, username: string) {\n  return client(\"/dms\", {\n    data: {\n      username,\n    },\n    method: HttpMethods.POST,\n    headers: {\n      userid: userId,\n    },\n  });\n}\n"]},"metadata":{},"sourceType":"module"}